<%- include("../partials/header.ejs") %>

<body>
    <%- include("../partials/navbar.ejs") %>

    <div class="wrapper">
        <div class="table-header" style="padding-left: 15px;">
            <div id="filtering">
                <div>
                    Showing <select oninput="show_entries(this.value)" autocomplete="off">
                        <option value="15">15</option>
                        <option value="30">30</option>
                        <option value="60">60</option>
                        <option value="80">80</option>
                        <option value="<%= favorites.length %>">All (<%= favorites.length %>)</option>
                    </select>Favorites
                </div>
            </div>            
        </div>
        <table id="community_table" class="table table-striped table-bordered" style="padding: 20px;">
            <thead class="thead-dark">
                <tr>
                    <th>Create Time</th>
                    <th>Mii</th>
                    <th>NNID</th>
                    <th>ID</th>
                    <th>Account ID</th>
                    <th>Community ID</th>
                    <th>Community Name</th>
                </tr>
            </thead>
            <tbody>
                <% for (let i=0; i < favorites.length; i++) { const favorite = favorites[i] %>
                    <tr <%= (i >= 15) ? 'style=display:none' : "" %>>
                        <td><%= moment(favorite.create_time).format("MM/DD/YYYY h:mm A") %></td>
                        <td><img width="50px" src="http://mii-images.account.nintendo.net/<%= favorite.mii_hash %>_normal_face.png"></td>
                        <td><%= favorite.nnid %></td>
                        <td><%= favorite.id %></td>
                        <td><%= favorite.account_id %></td>
                        <td><%= favorite.community_id %></td>
                        <td><%= favorite.community_name %></td>
                    </tr>
                <% } %>
            </tbody>
    </div>
</body>